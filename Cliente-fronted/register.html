<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Registro de Cliente</title>
</head>
<body>
    <h2>Registro de Cliente</h2>

    <input type="text" id="cedula" placeholder="Cédula"><br>
    <input type="text" id="nombre" placeholder="Nombre"><br>
    <input type="text" id="apellido" placeholder="Apellido"><br>
    <input type="text" id="telefono" placeholder="Teléfono"><br>
    <input type="text" id="direccion" placeholder="Dirección"><br>
    <input type="text" id="zona" placeholder="Zona"><br>
    <input type="email" id="email" placeholder="Email"><br>
    <input type="password" id="password" placeholder="Contraseña"><br>

    <button onclick="registrar()">Registrar</button>
    <br><br>
    <a href="login.html">Ir a Login</a>

    <script>
        async function registrar() {
            const data = {
                cedula: document.getElementById("cedula").value,
                nombre: document.getElementById("nombre").value,
                apellido: document.getElementById("apellido").value,
                telefono: document.getElementById("telefono").value,
                direccion: document.getElementById("direccion").value,
                zona: document.getElementById("zona").value,
                email: document.getElementById("email").value,
                password: document.getElementById("password").value,
                rol: "cliente"
            };

            const res = await fetch("http://localhost:3000/usuarios", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data)
            });

            if (res.ok) {
                alert("Cliente registrado exitosamente.");
                window.location.href = "index.html";
            } else {
                const err = await res.json();
                alert("Error: " + err.detail);
            }
        }
    </script>
</body>
</html>
